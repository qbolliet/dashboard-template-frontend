@use '../../../styles/utils/breakpoints' as *;
@use '../../../styles/globals/colors';

// ===== VARIABLES DE PERSONNALISATION =====
// Variables essentielles pour modifier l'apparence du bouton mobile toggle

// Dimensions du bouton
$toggle-button-size: 2.5rem !default;
$toggle-button-padding: var(--spacing-sm) !default;
$toggle-border-radius: var(--border-radius-md) !default;

// Dimensions des icônes
$toggle-icon-size: 1.25rem !default;

// Transitions
$toggle-transition-duration: var(--transition-normal) !default;
$toggle-transition-easing: ease !default;
$toggle-icon-transition-duration: var(--transition-normal) !default;

// Focus
$toggle-focus-outline-width: 2px !default;
$toggle-focus-outline-offset: 2px !default;

// ===== MOBILE MENU TOGGLE =====
// Bouton hamburger/fermeture pour le menu mobile

.mobile-nav-toggle {
    // Styling du bouton
    background: none;
    border: none;
    cursor: pointer;
    padding: $toggle-button-padding;
    border-radius: $toggle-border-radius;
    
    // Couleurs et interactions
    color: hsl(var(--nav-hamburger-color));
    transition: all $toggle-transition-duration $toggle-transition-easing;
    
    // Dimensions et alignement
    width: $toggle-button-size;
    height: $toggle-button-size;
    display: flex;
    align-items: center;
    justify-content: center;
    
    // Masquer sur les grands écrans
    @include breakpoint('large') {
        display: none;
    }
    
    &:hover {
        background-color: hsl(var(--nav-hamburger-bg-hover));
    }
    
    &:focus {
        outline: $toggle-focus-outline-width solid hsl(var(--nav-hamburger-border-focus));
        outline-offset: $toggle-focus-outline-offset;
    }
}

// ===== ICÔNES DE NAVIGATION =====
// Gestion des icônes hamburger et fermeture

.nav-icon {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity $toggle-icon-transition-duration $toggle-transition-easing;
    
    // Taille des icônes SVG
    svg {
        width: $toggle-icon-size;
        height: $toggle-icon-size;
    }
}

// Icône hamburger - visible par défaut
.hamburger-icon {
    opacity: 1;
}

// Icône de fermeture - masquée par défaut
.close-icon {
    opacity: 0;
}

// ===== ÉTATS DU MENU =====
// Animation des icônes selon l'état du menu

.mobile-nav-toggle[aria-expanded="true"] {
    .hamburger-icon {
        opacity: 0;
    }
    
    .close-icon {
        opacity: 1;
    }
}

// ===== ACCESSIBILITÉ =====
// Masquer le texte pour les lecteurs d'écran uniquement

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}