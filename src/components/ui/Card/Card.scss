// ===== CARD COMPONENT - COMPOSANT CARTE =====
// Import des variables du système de design
@use '../../../styles/globals/colors';
@use '../../../styles/globals/typography';
@use '../../../styles/utils/breakpoints';

// Container principal de la carte
.card {
    // Structure et positionnement
    display: block;
    position: relative;
    
    // Apparence de base
    background: hsl(var(--color-surface));
    border: 1px solid hsl(var(--color-border));
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    
    // Espacements internes
    padding: var(--spacing-lg);
    
    // Style de lien
    text-decoration: none;
    color: inherit;
    
    // Transitions pour interactions
    transition: 
        box-shadow var(--transition-normal) ease-out,
        transform var(--transition-normal) ease-out,
        border-color var(--transition-fast) ease-out;
    
    // États d'interaction
    &:hover {
        box-shadow: var(--shadow-lg);
        border-color: hsl(var(--color-border-hover));
        transform: translateY(-2px);
        
        .card__image-element {
            transform: scale(1.05);
        }
    }
    
    &:focus {
        outline: 2px solid hsl(var(--color-focus));
        outline-offset: 2px;
        box-shadow: var(--shadow-lg);
    }
    
    &:active {
        transform: translateY(0);
    }
}

// Container de l'image
.card__image {
    // Reset des marges par défaut de figure
    margin: 0;
    
    // Structure
    width: 100%;
    border-radius: var(--border-radius-md);
    overflow: hidden;
    
    // Espacement avec le contenu
    margin-bottom: var(--spacing-lg);
    
    // Style de bordure subtile
    border: 1px solid hsl(var(--color-border));
}

// Élément image avec optimisation Next.js
.card__image-element {
    // Dimensions et affichage
    width: 100%;
    height: auto;
    display: block;
    
    // Transition pour effet de zoom
    transition: transform var(--transition-normal) ease-out;
    
    // Assure un affichage optimal
    object-fit: cover;
}

// Container du contenu textuel
.card__content {
    // Espacement interne
    padding: 0;
    
    // Espacement entre éléments
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
}

// Titre de la carte
.card__title {
    // Reset des marges par défaut
    margin: 0;
    
    // Typographie
    font-size: var(--font-size-xl);
    font-weight: 600;
    line-height: var(--line-height-tight);
    color: hsl(var(--color-text-primary));
    
    // Limitation du nombre de lignes pour cohérence
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

// Description de la carte
.card__description {
    // Reset des marges par défaut
    margin: 0;
    
    // Typographie
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    color: hsl(var(--color-text-secondary));
    
    // Limitation du nombre de lignes pour cohérence
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

// Responsive : adaptation pour petits écrans
@include breakpoints.breakpoint-down(small) {
    .card {
        // Réduction des espacements sur mobile
        padding: var(--spacing-md);
        
        .card__image {
            margin-bottom: var(--spacing-md);
        }
    }
    
    .card__title {
        font-size: var(--font-size-lg);
    }
    
    .card__description {
        font-size: var(--font-size-sm);
    }
}